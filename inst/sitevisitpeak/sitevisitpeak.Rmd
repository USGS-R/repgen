---
output:
  html_document:
    includes:
      before_body: before.html
      after_body: after.html
    css: ['styles.css', 'shared-styles.css']
---
```{r child='../shared/shared-header.rmd'}
```
&nbsp;
'*' = Associated Highest Instantaneous Value and Date information will always be blank for the first visit in this report.

`r if(containsOutsideUncertainty(data)){
  paste("'**' = Corrected value is outside of the peak verification reading accounting for uncertainties, and the difference is >0.05 feet. If this is the annual peak, input the peak stage reading into the corrected time series. See SW Memo 2014.06: http://water.usgs.gov/admin/memo/SW/sw14.06_revised.html")}`

***

```{r,echo=FALSE,comment=NA,warning=FALSE,results='asis'}
tbl <- sitevisitpeakTable(data)
library(pander)
library(htmlTable)

if(!identical(tbl, "The dataset requested is empty.")){
  if (output=='pdf') {
    pander(tbl, split.cell = 30, split.table = Inf) 
  } else {
    if(isNullOrFalse(data[['reportMetadata']][['excludeComments']])){
      groupConfig <- c(4,6,5)
      groupAlign <- "|rrrr|rrrrrr|rrrrr|"
    } else {
      groupConfig <- c(4,5,5)
      groupAlign <- "|rrrr|rrrrr|rrrrr|"
    }
    
    htmlTable(tbl, 
      cgroup=c("Field Visit Information","Peak Verification Information","*Associated Highest Instantaneous Value and Date"),
      n.cgroup=groupConfig,
      col.rgroup = c("none", "#F7F7F7"), css.cell = "padding-left: 1em; padding-right: 1em; padding-top:.5em;padding-bottom:.5em;",
      align=groupAlign,
      rnames=FALSE)
  }
}

```

***

```{r,echo=FALSE,result='asis',comment=NA,warning=FALSE}
if(!identical(tbl, "The dataset requested is empty.")){
  tbl2 <- svpQualifiersTable(data, tbl)
  if(!is.null(tbl2) && nrow(tbl2) > 0){
    htmlTable(tbl2,
                cgroup=c("Qualifiers"),
                n.cgroup=c(3),
                align="|lll|", 
                rnames=FALSE, 
                col.rgroup = c("none", "#F7F7F7"), css.cell = "padding-left: 1em; padding-right: 1em; padding-top:.5em;padding-bottom:.5em;")
  }
}
```

#`r if(identical(tbl, "The dataset requested is empty.")) {paste(tbl)}`#
